# 1. 亲密字符串

[859. 亲密字符串](https://leetcode-cn.com/problems/buddy-strings/)

```c++
class Solution {
public:
    bool buddyStrings(string s, string goal) {
        /*
        两者长度不同直接返回false

            两种情况：
                情况一：s == goal && 有两个及以上的相同字符，例如 abb和abb, ab和ab就不行
                情况二：s != goal 此时可以交换的条件是 每个字符出现的次数相等
        */
        int ns = s.size();
        int ng = goal.size();
        if(ns != ng ) return false;
        vector<int> as(26,0);
        vector<int> gs(26,0);
        //记录不同的字符数量
        int sum = 0;
        for(int i = 0; i < ns; i++)
        {
            as[s[i] - 'a']++;
            gs[goal[i] - 'a']++;
            if(s[i] != goal[i]) sum++;
        }

        //标记是否有两个及以上的相同字符
        bool ok = false;
        for(int i = 0; i < 26; i++)
        {
            //判断每个字符出现的次数是否相等
            if(as[i] != gs[i]) return false;
            if(as[i] > 1)  ok = true;
        }
        return sum == 2 ||(sum == 0 && ok);
    }
};
```



# 2. Z字形变换

[6. Z 字形变换](https://leetcode-cn.com/problems/zigzag-conversion/)

**简单模拟一下Z字形过程，先向下排列，到底后转换方向**

- 根据题目给出的行数设定一个string数组，用于模拟输出过程
- **关键：设定一个标志位flag，用于遍历时转换方向**

```c++
class Solution {
public:
    string convert(string s, int numRows) {
        if(numRows == 1) return s;
        vector<string> res(numRows,"");
        //设定方向转换标志位,一开始一定要设置为-1
        int flag = -1;
        int i = 0;
        for(auto word : s){
            res[i].push_back(word);
            //当到顶或者触底时转换方向
            if(i == 0 || i == numRows-1) flag = -flag;
            i += flag;
        }
        string ans = "";
        for(auto x : res){
            ans += x;
        }
        return ans;
    }
};
```

**对于标志位的另一种使用方式**

```c++
class Solution {
public:
    string convert(string s, int numRows) {
        if(numRows == 1) return s;
        vector<string> res(numRows,"");
        //flag == true时，代表向下遍历，否则，向上遍历
        bool flag = false;
        int i = 0;
        for(auto word : s){
            res[i].push_back(word);
            if(i == 0 || i == numRows-1) flag = flag ? false : true;
            if(flag){
                 i++;
            }else{
                 i--;
            }
        }
        string ans = "";
        for(auto x : res){
            ans += x;
        }
        return ans;
    }
};
```



