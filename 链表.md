# 1. 环形链表

[141. 环形链表](https://leetcode-cn.com/problems/linked-list-cycle/)

Easy

```c++
class Solution {
public:
    bool hasCycle(ListNode* head) {
        if (head == nullptr || head->next == nullptr) {
            return false;
        }
        ListNode* slow = head;
        ListNode* fast = head->next;
        while (slow != fast) {
            if (fast == nullptr || fast->next == nullptr) {
                return false;
            }
            slow = slow->next;
            fast = fast->next->next;
        }
        return true;
    }
};
```



# 2. 环形链表Ⅱ

[142. 环形链表 II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

该题要寻找环形链表的入口节点

- 首先需要判断该链表是否存在环，可参考上一题
- 然后寻找入口节点

**该图片取自代码随想录**

[代码随想录 (programmercarl.com)](https://programmercarl.com/0142.环形链表II.html#思路)

![image-20211103193524363](C:\Users\Sakura\AppData\Roaming\Typora\typora-user-images\image-20211103193524363.png)

由图可知，当快慢指针相遇时，慢指针走过的路程为 x + y, 而快指针走过的路程为 x + y + n(y + z), n表示快指可能已经走过了n圈，**同时，由于慢指针一次走一步，而快指针一次走两步，因此两指针相遇时，快指针走过的路程是慢指针的两倍，即 x + y + n(y + z) = 2(x + y)  --------  即 x = (n - 1)(y + z) + z**

**该公式表明，定义两个指针index1 与 index2, index1 从头节点出发，一次走一步，index2 从相遇点出发，一次走一步，两者相遇时，相遇点即为环的入口节点**



```c++
class Solution {
public:

    ListNode *detectCycle(ListNode *head) {
        if(!head || !head->next) return nullptr;
        ListNode* slow = head;
        ListNode* fast = head;
        while(fast != NULL && fast->next != NULL){
            fast = fast->next->next;
            slow = slow->next;
            if(fast == slow){
                ListNode* index1 = head;
                ListNode* index2 = slow;
                while(index1 != index2){
                    index1 = index1->next;
                    index2 = index2->next;
                }
                return index1;
            }
        }
        return nullptr;
    }
};
```

